{% extends 'adminlayout.html.twig' %}

{% block title %}Add Account{% endblock %}

{% block content %}
{% form_theme form 'form/form_theme.html.twig' %}

<div class="container-fluid py-5" style="max-width: 600px; margin: 0 auto;">
    <div class="card shadow-sm border-0 rounded-3">
        <div class="card-body p-4">
            <h3 class="fw-bold text-center mb-4" style="color:#2e2e2e;">Add New User</h3>

            {{ form_start(form) }}

            <!-- FULL NAME -->
            <div class="mb-3">
                {{ form_label(form.fullname, 'Full Name', { 'label_attr': {'class': 'form-label fw-bold'} }) }}
                {{ form_widget(form.fullname, { 'attr': {'class': 'form-control', 'placeholder': 'Enter full name'} }) }}
                {{ form_errors(form.fullname) }}
            </div>

            <!-- EMAIL -->
            <div class="mb-3">
                {{ form_label(form.email, 'Email', { 'label_attr': {'class': 'form-label fw-bold'} }) }}
                {{ form_widget(form.email, { 'attr': {'class': 'form-control', 'placeholder': 'Enter email address'} }) }}
                {{ form_errors(form.email) }}
            </div>

            <!-- PASSWORD -->
            <div class="mb-3">
                {{ form_label(form.password, 'Password', { 'label_attr': {'class': 'form-label fw-bold'} }) }}
                {{ form_widget(form.password, { 'attr': {'class': 'form-control', 'placeholder': 'Enter password'} }) }}
                {{ form_errors(form.password) }}
            </div>

            <!-- PHONE NUMBER -->
            <div class="mb-3">
                {{ form_label(form.phoneNumber, 'Phone Number', { 'label_attr': {'class': 'form-label fw-bold'} }) }}
                {{ form_widget(form.phoneNumber, { 'attr': {'class': 'form-control', 'placeholder': 'Enter phone number'} }) }}
                {{ form_errors(form.phoneNumber) }}
            </div>

            <!-- ADDRESS -->
            <div class="mb-3">
                {{ form_label(form.address, 'Address', { 'label_attr': {'class': 'form-label fw-bold'} }) }}
                {{ form_widget(form.address, { 'attr': {'class': 'form-control', 'placeholder': 'Enter full address'} }) }}
                {{ form_errors(form.address) }}
            </div>

            <!-- ROLE SELECTION -->
            <div class="mb-3">
                {{ form_label(form.roles, 'Role', {'label_attr': {'class': 'form-label fw-bold'} }) }}
                <div class="d-flex gap-3 flex-wrap"> {# flex container #}
                    {% for child in form.roles %}
                        <div class="form-check">
                            {{ form_widget(child, {'attr': {'class': 'form-check-input'} }) }}
                            {{ form_label(child, null, {'label_attr': {'class': 'form-check-label'} }) }}
                        </div>
                    {% endfor %}
                </div>
                {{ form_errors(form.roles) }}
            </div>


            <!-- SUBMIT -->
            <div class="d-grid mt-3">
                <button type="submit"
                        class="btn fw-semibold py-2"
                        style="background-color:#F88F6A; color:white; border:none; border-radius:6px; font-size:0.95rem;">
                    ➕ Add User
                </button>
            </div>

            {{ form_end(form) }}

            <!-- BACK LINK -->
            <div class="text-center mt-3">
                <a href="{{ path('app_user_index') }}"
                   class="btn fw-bold"
                   style="background-color:#2e2e2e; color:white; border:none; border-radius:6px; padding:0.375rem 0.75rem; font-size:0.95rem;">
                    ← Back to Users
                </a>
            </div>
        </div>
    </div>
</div>

<style>
.card {
    background-color: #fff;
    overflow: hidden;
}

.form-label {
    color: #2e2e2e;
}

.btn:hover {
    background-color: #4C763B !important;
}

main, .main-content, .container-fluid {
    overflow: visible !important;
}

/* Responsive adjustments */
@media (max-width: 576px) {
    .card-body {
        padding: 1.5rem !important;
    }
    .btn {
        font-size: 0.9rem !important;
    }
}
</style>
{% endblock %}
